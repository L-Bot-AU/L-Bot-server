{% extends 'librarian_base.html' %}

{% block page_title %}Statistics{% endblock %}

{% block page_content %}
    <h3>Statistics</h3>
    <div style="float: left; width: 50%">
        <form class="auth_form" style="position: relative; width: 500px" action="" method="post" novalidate>
            {{ form.hidden_tag() }}
            <p>
                <div class="form-inline">
                    {{ form.start_date.label(class_="form-label bold-this") }}
                    {{ form.start_date(class_="form-control data-entry") }}<br>
				{% if form.start_date.errors %}
                    <ul class="feedback">
                    {% for error in form.start_date.errors %}
                        <li class="text-danger"> {{ error }} </li>
                    {% endfor %}
                    </ul> {# todo make warning colour nice in both light and dark mode #}
                {% endif %}
                </div>
            </p>
            <p>
                <div class="form-inline">
                    {{ form.end_date.label(class_="form-label bold-this") }}
                    {{ form.end_date(class_="form-control data-entry") }}<br>
				{% if form.end_date.errors %}
                    <ul class="feedback">
                    {% for error in form.end_date.errors %}
                        <li class="text-danger">{{ error }}</li>
                    {% endfor %}
                    </ul>
                {% endif %}
                </div>
            </p>
            <p>
                <div class="form-inline">
                    {{ form.data_frequency.label(class_="form-label bold-this") }}
                    {{ form.data_frequency(class_="form-control data-entry") }}<br>
				{% if form.data_frequency.errors %}
                    <ul class="feedback">
                    {% for error in form.data_frequency.errors %}
                        <li class="text-danger"> {{ error }} </li>
                    {% endfor %}
                    </ul>
                {% endif %}
                </div>
            </p>
            {{ form.submit(class_="btn btn-primary submit-button") }}
        </form>
    </div>
    <div style="float: right; width: 50%">
        graph goes here
        <div>
            <canvas id="librarian-graph"></canvas>
            <script src="https://www.chartjs.org/dist/2.9.4/Chart.min.js"></script>
            <script type="text/javascript" src="{{ url_for('static', filename='librarian.js') }}"></script>
            <script>
                gen_graph();
            </script>
        </div>
    </div>
{% endblock %}